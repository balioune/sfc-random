1. Bring up a devstack capable environment.  The one used by this demo is a Centos 7 box (8 gig of RAM),
   which already has nshv8 OVS built/installed.  To use this box:
    a.  git clone https://github.com/trozet/sfc-random.git (you may have already done this)
    b.  create a directory with enough space for at least 40Gig: mkdir ~/mytackerVM
    c.  cp sfc-random/Vagrantfile ~/mytackerVM/
    d.  cd ~/mytackerVM; vagrant up
    e.  you will be prompted for a network adapter to bridge to.  Choose your interface with internet
        connectivity
    f.  you also may be asked for a password, just enter "vagrant"
    g.  NOTE: when you vagrant up you will probably get an error saying failed to mount with vboxsf
        this failure is safe to ignore, and will not impact the rest of the steps
2. If using the Vagrant method:
    a.  vagrant ssh
    b.  sudo systemctl stop NetworkManager
    c.  sudo systemctl disable NetworkManager
    d.  sudo systemctl restart network
    e.  verify default route to public network
    f.  sudo ln -s /var/run/openvswitch /usr/local/var/run/
    g.  sudo systemctl restart openvswitch
    h.  modify your /etc/hosts and hostname to something other than localhost. Example:
        sudo hostnamectl set-hostname tacker.tackerdomain.com
        add to /etc/hosts:
        <vm ip>  tacker tacker.tackerdomain.com
    i.  modify your /etc/resolv.conf with the following:
        search <your new domain name from step 2h>
        nameserver 8.8.8.8
    j.  install git
    k.  sudo systemctl stop firewalld
    l.  sudo yum -y remove firewalld
3. git clone -b stable/kilo https://github.com/openstack-dev/devstack
4. git clone https://github.com/trozet/sfc-random.git
5. cp -f sfc-random/local.conf devstack/; cd devstack
6. Modify the public IPs in local.conf -> sed -i 's/10.6.65.37/<your IP>/g' local.conf 
7. ./stack.sh
8. Create the "net_mgmt" network:
    a.  cp accrc/admin/admin accrc/admin/heat; and modify the OS_USERNAME="heat" and
        OS_TENANT_NAME="service"
    b.  neutron net-create net_mgmt --provider:network_type=vxlan --provider:segmentation_id 1005
    c.  neutron subnet-create net_mgmt 11.0.0.0/24
9. Import VNFD for test-VNF:
    a.  tacker vnfd-create --vnfd-file ../sfc-random/test-vnfd.yaml
10. Deploy VNFs:
    a.  tacker vnf-create --name testVNF1 --vnfd-name test-vnfd
    b.  tacker vnf-create --name testVNF2 --vnfd-name test-vnfd
    c.  Tacker will kick off creating the VNFs via Heat.  For some reason it does this as the service tenant.  So you
        can check heat by using the "heat" user and doing "heat stack-list".
    d.  Wait a few minutes and then check VNF status is ACTIVE: tacker vnf-list
11. Create SFC via python client(will render the chain into ODL):
    a.  tacker sfc-create --name mychain --chain testVNF2,testVNF1 --symmetrical True
    b.  This will create a chain in ODL, with 2 Rendered Service Paths (one for reverse since symmetrical)
    c.  tacker sfc-show mychain (check to make sure your SFC is now "Active")
    d.  Open another tab in your browser for ODL SFC -> <vm ip>:8181/sfc/index.html
    e.  If you click on "Service Function Paths" at the top, then "Rendered Service Paths" you should see
        the RSPs created and their ID's should match the "instance_id" given in the tacker sfc-show output
    f.  You can now see NSH flows added to OVS br-int by doing the following:
        sudo ovs-ofctl -O OpenFlow13 dump-flows br-int

To re-stack:
1.  ./unstack.sh
2.  sudo systemctl stop openvswitch
3.  sudo rm /etc/openvswitch/conf.db
4.  sudo ./clean.sh (only if you want to remove mariadb)
5.  edit local.conf -> RECLONE=FALSE (if you don't want to reclone all the git repos)
6.  ./stack.sh
